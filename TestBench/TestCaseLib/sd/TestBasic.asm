.seg data
        #Stack StartA, 0
    FStackA:

.seg code

Start_@ep:
StartTable:
        dd StartA or $10000000
        dd StartB or $10000000

StartA:
        mov     esp,FStackA

        bra     TestBasic

        nop
        test_end
        nop

  saWait:
        bra     saWait

StartB:
        mov     awx,10
        bra     StartB

TestBasic:
         enter   awx|bwx|cwx|dwx|ewx|fwx|gwx|ar|br|cr|dr|er|fr|gr,16
         ;//     Bytes
         mov     al,0x00
         pushzx  al
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         pushsx  al
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         push    0x00
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         ;//     Words
         mov     ax,0x0000
         pushzx  ax
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         pushsx  ax
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         push    0x0000
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         push    0x00000000
         pop     bwx
         cmp     bwx,0x00000000
         bne     TestBasicErr
         ;//     Stream Byte
         mov     cwx,esp
         mov     ewx,0x00000000
         mov     [cwx++],el
         mov     [cwx++],eh
         rol     ewx,16
         mov     [cwx++],el
         mov     [cwx++],eh
         mov     ewx,[--cwx]
         cmp     ewx,0x00000000
         bne     TestBasicErr
         ;//     Stream Word
         mov     cwx,esp
         mov     ewx,0x00000000
         mov     [cwx++],ex
         mov     [cwx++],ew
         mov     ewx,[--cwx]
         cmp     ewx,0x00000000
         bne     TestBasicErr
         ;//     Stream DWord
         mov     cwx,esp
         mov     ewx,0x00000000
         mov     [cwx++],ewx
         rol     ewx,16
         mov     [cwx++],ewx
         mov     ewx,[--cwx]
         rol     ewx,16
         cmp     ewx,0x00000000
         bne     TestBasicErr
         sub     cwx,4
         mov     ewx,[cwx]
         cmp     ewx,0x00000000
         bne     TestBasicErr
         ;//     Stream QWord
         mov     cwx,esp
         add     cwx,7
         and     cwx,0xFFFFFFF8
         mov     ewx,0x00000000
         mov     er,ewx
         rol     er,16
         mov     [cwx++],eq
         mov     eq,[--cwx]
         cmp     ewx,0x00000000
         bne     TestBasicErr
         rol     er,16
         cmp     er,0x00000000
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     bl,0x7F
         pushzx  bl
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         pushsx  bl
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         push    0x7F
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         ;//     Words
         mov     bx,0x007F
         pushzx  bx
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         pushsx  bx
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         push    0x007F
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         push    0x0000007F
         pop     cwx
         cmp     cwx,0x0000007F
         bne     TestBasicErr
         ;//     Stream Byte
         mov     dwx,esp
         mov     gwx,0x0000007F
         mov     [dwx++],gl
         mov     [dwx++],gh
         rol     gwx,16
         mov     [dwx++],gl
         mov     [dwx++],gh
         mov     gwx,[--dwx]
         cmp     gwx,0x0000007F
         bne     TestBasicErr
         ;//     Stream Word
         mov     dwx,esp
         mov     gwx,0x0000007F
         mov     [dwx++],gx
         mov     [dwx++],gw
         mov     gwx,[--dwx]
         cmp     gwx,0x0000007F
         bne     TestBasicErr
         ;//     Stream DWord
         mov     dwx,esp
         mov     gwx,0x0000007F
         mov     [dwx++],gwx
         rol     gwx,16
         mov     [dwx++],gwx
         mov     gwx,[--dwx]
         rol     gwx,16
         cmp     gwx,0x0000007F
         bne     TestBasicErr
         sub     dwx,4
         mov     gwx,[dwx]
         cmp     gwx,0x0000007F
         bne     TestBasicErr
         ;//     Stream QWord
         mov     dwx,esp
         add     dwx,7
         and     dwx,0xFFFFFFF8
         mov     gwx,0x0000007F
         mov     gr,gwx
         rol     gr,16
         mov     [dwx++],gq
         mov     gq,[--dwx]
         cmp     gwx,0x0000007F
         bne     TestBasicErr
         rol     gr,16
         cmp     gr,0x0000007F
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     cl,0x80
         pushzx  cl
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         pushsx  cl
         pop     dwx
         cmp     dwx,0xFFFFFF80
         bne     TestBasicErr
         push    0x80
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         ;//     Words
         mov     cx,0x0080
         pushzx  cx
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         pushsx  cx
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         push    0x0080
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         push    0x00000080
         pop     dwx
         cmp     dwx,0x00000080
         bne     TestBasicErr
         ;//     Stream Byte
         mov     ewx,esp
         mov     bwx,0x00000080
         mov     [ewx++],bl
         mov     [ewx++],bh
         rol     bwx,16
         mov     [ewx++],bl
         mov     [ewx++],bh
         mov     br,[--ewx]
         cmp     br,0x00000080
         bne     TestBasicErr
         ;//     Stream Word
         mov     ewx,esp
         mov     bwx,0x00000080
         mov     [ewx++],bx
         mov     [ewx++],bw
         mov     br,[--ewx]
         cmp     br,0x00000080
         bne     TestBasicErr
         ;//     Stream DWord
         mov     ewx,esp
         mov     br,0x00000080
         mov     [ewx++],br
         rol     br,16
         mov     [ewx++],br
         mov     br,[--ewx]
         rol     br,16
         cmp     br,0x00000080
         bne     TestBasicErr
         sub     ewx,4
         mov     br,[ewx]
         cmp     br,0x00000080
         bne     TestBasicErr
         ;//     Stream QWord
         mov     ewx,esp
         add     ewx,7
         and     ewx,0xFFFFFFF8
         mov     bwx,0x00000080
         mov     br,bwx
         rol     br,16
         mov     [ewx++],bq
         mov     bq,[--ewx]
         cmp     bwx,0x00000080
         bne     TestBasicErr
         rol     br,16
         cmp     br,0x00000080
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     dl,0x12
         pushzx  dl
         pop     ewx
         cmp     ewx,0x00000012
         bne     TestBasicErr
         pushsx  dl
         pop     ewx
         cmp     ewx,0x00000012
         bne     TestBasicErr
         push    0x12
         pop     ewx
         cmp     ewx,0x00000012
         bne     TestBasicErr
         ;//     Words
         mov     dx,0x7F12
         pushzx  dx
         pop     ewx
         cmp     ewx,0x00007F12
         bne     TestBasicErr
         pushsx  dx
         pop     ewx
         cmp     ewx,0x00007F12
         bne     TestBasicErr
         push    0x7F12
         pop     ewx
         cmp     ewx,0x00007F12
         bne     TestBasicErr
         push    0x00007F12
         pop     ewx
         cmp     ewx,0x00007F12
         bne     TestBasicErr
         ;//     Stream Byte
         mov     fwx,esp
         mov     dwx,0x00007F12
         mov     [fwx++],dl
         mov     [fwx++],dh
         rol     dwx,16
         mov     [fwx++],dl
         mov     [fwx++],dh
         mov     dr,[--fwx]
         cmp     dr,0x00007F12
         bne     TestBasicErr
         ;//     Stream Word
         mov     fwx,esp
         mov     dwx,0x00007F12
         mov     [fwx++],dx
         mov     [fwx++],dw
         mov     dr,[--fwx]
         cmp     dr,0x00007F12
         bne     TestBasicErr
         ;//     Stream DWord
         mov     fwx,esp
         mov     dr,0x00007F12
         mov     [fwx++],dr
         rol     dr,16
         mov     [fwx++],dr
         mov     dr,[--fwx]
         rol     dr,16
         cmp     dr,0x00007F12
         bne     TestBasicErr
         sub     fwx,4
         mov     dr,[fwx]
         cmp     dr,0x00007F12
         bne     TestBasicErr
         ;//     Stream QWord
         mov     fwx,esp
         add     fwx,7
         and     fwx,0xFFFFFFF8
         mov     dwx,0x00007F12
         mov     dr,dwx
         rol     dr,16
         mov     [fwx++],dq
         mov     dq,[--fwx]
         cmp     dwx,0x00007F12
         bne     TestBasicErr
         rol     dr,16
         cmp     dr,0x00007F12
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     el,0xCD
         pushzx  el
         pop     fwx
         cmp     fwx,0x000000CD
         bne     TestBasicErr
         pushsx  el
         pop     fwx
         cmp     fwx,0xFFFFFFCD
         bne     TestBasicErr
         push    0xCD
         pop     fwx
         cmp     fwx,0x000000CD
         bne     TestBasicErr
         ;//     Words
         mov     ex,0x80CD
         pushzx  ex
         pop     fwx
         cmp     fwx,0x000080CD
         bne     TestBasicErr
         pushsx  ex
         pop     fwx
         cmp     fwx,0xFFFF80CD
         bne     TestBasicErr
         push    0x80CD
         pop     fwx
         cmp     fwx,0x000080CD
         bne     TestBasicErr
         push    0x000080CD
         pop     fwx
         cmp     fwx,0x000080CD
         bne     TestBasicErr
         ;//     Stream Byte
         mov     gwx,esp
         mov     fwx,0x000080CD
         mov     [gwx++],fl
         mov     [gwx++],fh
         rol     fwx,16
         mov     [gwx++],fl
         mov     [gwx++],fh
         mov     fr,[--gwx]
         cmp     fr,0x000080CD
         bne     TestBasicErr
         ;//     Stream Word
         mov     gwx,esp
         mov     fwx,0x000080CD
         mov     [gwx++],fx
         mov     [gwx++],fw
         mov     fr,[--gwx]
         cmp     fr,0x000080CD
         bne     TestBasicErr
         ;//     Stream DWord
         mov     gwx,esp
         mov     fr,0x000080CD
         mov     [gwx++],fr
         rol     fr,16
         mov     [gwx++],fr
         mov     fr,[--gwx]
         rol     fr,16
         cmp     fr,0x000080CD
         bne     TestBasicErr
         sub     gwx,4
         mov     fr,[gwx]
         cmp     fr,0x000080CD
         bne     TestBasicErr
         ;//     Stream QWord
         mov     gwx,esp
         add     gwx,7
         and     gwx,0xFFFFFFF8
         mov     fwx,0x000080CD
         mov     fr,fwx
         rol     fr,16
         mov     [gwx++],fq
         mov     fq,[--gwx]
         cmp     fwx,0x000080CD
         bne     TestBasicErr
         rol     fr,16
         cmp     fr,0x000080CD
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     fl,0xFF
         pushzx  fl
         pop     gwx
         cmp     gwx,0x000000FF
         bne     TestBasicErr
         pushsx  fl
         pop     gwx
         cmp     gwx,0xFFFFFFFF
         bne     TestBasicErr
         push    0xFF
         pop     gwx
         cmp     gwx,0x000000FF
         bne     TestBasicErr
         ;//     Words
         mov     fx,0xFFFF
         pushzx  fx
         pop     gwx
         cmp     gwx,0x0000FFFF
         bne     TestBasicErr
         pushsx  fx
         pop     gwx
         cmp     gwx,0xFFFFFFFF
         bne     TestBasicErr
         push    0xFFFF
         pop     gwx
         cmp     gwx,0x0000FFFF
         bne     TestBasicErr
         push    0x0000FFFF
         pop     gwx
         cmp     gwx,0x0000FFFF
         bne     TestBasicErr
         ;//     Stream Byte
         mov     ar,esp
         mov     awx,0x0000FFFF
         mov     [ar++],al
         mov     [ar++],ah
         rol     awx,16
         mov     [ar++],al
         mov     [ar++],ah
         mov     awx,[--ar]
         cmp     awx,0x0000FFFF
         bne     TestBasicErr
         ;//     Stream Word
         mov     ar,esp
         mov     awx,0x0000FFFF
         mov     [ar++],ax
         mov     [ar++],aw
         mov     awx,[--ar]
         cmp     awx,0x0000FFFF
         bne     TestBasicErr
         ;//     Stream DWord
         mov     ar,esp
         mov     awx,0x0000FFFF
         mov     [ar++],awx
         rol     awx,16
         mov     [ar++],awx
         mov     awx,[--ar]
         rol     awx,16
         cmp     awx,0x0000FFFF
         bne     TestBasicErr
         sub     ar,4
         mov     awx,[ar]
         cmp     awx,0x0000FFFF
         bne     TestBasicErr
         ;//     Stream QWord
         mov     ar,esp
         add     ar,7
         and     ar,0xFFFFFFF8
         mov     bwx,0x0000FFFF
         mov     br,bwx
         rol     br,16
         mov     [ar++],bq
         mov     bq,[--ar]
         cmp     bwx,0x0000FFFF
         bne     TestBasicErr
         rol     br,16
         cmp     br,0x0000FFFF
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     gl,0xFF
         pushzx  gl
         pop     ar
         cmp     ar,0x000000FF
         bne     TestBasicErr
         pushsx  gl
         pop     ar
         cmp     ar,0xFFFFFFFF
         bne     TestBasicErr
         push    0xFF
         pop     ar
         cmp     ar,0x000000FF
         bne     TestBasicErr
         ;//     Words
         mov     gx,0x80FF
         pushzx  gx
         pop     ar
         cmp     ar,0x000080FF
         bne     TestBasicErr
         pushsx  gx
         pop     ar
         cmp     ar,0xFFFF80FF
         bne     TestBasicErr
         push    0x80FF
         pop     ar
         cmp     ar,0x000080FF
         bne     TestBasicErr
         push    0x007F80FF
         pop     ar
         cmp     ar,0x007F80FF
         bne     TestBasicErr
         ;//     Stream Byte
         mov     br,esp
         mov     cwx,0x007F80FF
         mov     [br++],cl
         mov     [br++],ch
         rol     cwx,16
         mov     [br++],cl
         mov     [br++],ch
         mov     cwx,[--br]
         cmp     cwx,0x007F80FF
         bne     TestBasicErr
         ;//     Stream Word
         mov     br,esp
         mov     cwx,0x007F80FF
         mov     [br++],cx
         mov     [br++],cw
         mov     cwx,[--br]
         cmp     cwx,0x007F80FF
         bne     TestBasicErr
         ;//     Stream DWord
         mov     br,esp
         mov     cwx,0x007F80FF
         mov     [br++],cwx
         rol     cwx,16
         mov     [br++],cwx
         mov     cwx,[--br]
         rol     cwx,16
         cmp     cwx,0x007F80FF
         bne     TestBasicErr
         sub     br,4
         mov     cwx,[br]
         cmp     cwx,0x007F80FF
         bne     TestBasicErr
         ;//     Stream QWord
         mov     br,esp
         add     br,7
         and     br,0xFFFFFFF8
         mov     cwx,0x007F80FF
         mov     cr,cwx
         rol     cr,16
         mov     [br++],cq
         mov     cq,[--br]
         cmp     cwx,0x007F80FF
         bne     TestBasicErr
         rol     cr,16
         cmp     cr,0x007F80FF
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     ah,0xCD
         pushzx  ah
         pop     br
         cmp     br,0x000000CD
         bne     TestBasicErr
         pushsx  ah
         pop     br
         cmp     br,0xFFFFFFCD
         bne     TestBasicErr
         push    0xCD
         pop     br
         cmp     br,0x000000CD
         bne     TestBasicErr
         ;//     Words
         mov     aw,0xABCD
         pushzx  aw
         pop     br
         cmp     br,0x0000ABCD
         bne     TestBasicErr
         pushsx  aw
         pop     br
         cmp     br,0xFFFFABCD
         bne     TestBasicErr
         push    0xABCD
         pop     br
         cmp     br,0x0000ABCD
         bne     TestBasicErr
         push    0x0080ABCD
         pop     br
         cmp     br,0x0080ABCD
         bne     TestBasicErr
         ;//     Stream Byte
         mov     cr,esp
         mov     ewx,0x0080ABCD
         mov     [cr++],el
         mov     [cr++],eh
         rol     ewx,16
         mov     [cr++],el
         mov     [cr++],eh
         mov     ewx,[--cr]
         cmp     ewx,0x0080ABCD
         bne     TestBasicErr
         ;//     Stream Word
         mov     cr,esp
         mov     ewx,0x0080ABCD
         mov     [cr++],ex
         mov     [cr++],ew
         mov     ewx,[--cr]
         cmp     ewx,0x0080ABCD
         bne     TestBasicErr
         ;//     Stream DWord
         mov     cr,esp
         mov     ewx,0x0080ABCD
         mov     [cr++],ewx
         rol     ewx,16
         mov     [cr++],ewx
         mov     ewx,[--cr]
         rol     ewx,16
         cmp     ewx,0x0080ABCD
         bne     TestBasicErr
         sub     cr,4
         mov     ewx,[cr]
         cmp     ewx,0x0080ABCD
         bne     TestBasicErr
         ;//     Stream QWord
         mov     cr,esp
         add     cr,7
         and     cr,0xFFFFFFF8
         mov     ewx,0x0080ABCD
         mov     er,ewx
         rol     er,16
         mov     [cr++],eq
         mov     eq,[--cr]
         cmp     ewx,0x0080ABCD
         bne     TestBasicErr
         rol     er,16
         cmp     er,0x0080ABCD
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     bh,0x56
         pushzx  bh
         pop     cr
         cmp     cr,0x00000056
         bne     TestBasicErr
         pushsx  bh
         pop     cr
         cmp     cr,0x00000056
         bne     TestBasicErr
         push    0x56
         pop     cr
         cmp     cr,0x00000056
         bne     TestBasicErr
         ;//     Words
         mov     bw,0x3456
         pushzx  bw
         pop     cr
         cmp     cr,0x00003456
         bne     TestBasicErr
         pushsx  bw
         pop     cr
         cmp     cr,0x00003456
         bne     TestBasicErr
         push    0x3456
         pop     cr
         cmp     cr,0x00003456
         bne     TestBasicErr
         push    0x7F123456
         pop     cr
         cmp     cr,0x7F123456
         bne     TestBasicErr
         ;//     Stream Byte
         mov     dr,esp
         mov     gwx,0x7F123456
         mov     [dr++],gl
         mov     [dr++],gh
         rol     gwx,16
         mov     [dr++],gl
         mov     [dr++],gh
         mov     gwx,[--dr]
         cmp     gwx,0x7F123456
         bne     TestBasicErr
         ;//     Stream Word
         mov     dr,esp
         mov     gwx,0x7F123456
         mov     [dr++],gx
         mov     [dr++],gw
         mov     gwx,[--dr]
         cmp     gwx,0x7F123456
         bne     TestBasicErr
         ;//     Stream DWord
         mov     dr,esp
         mov     gwx,0x7F123456
         mov     [dr++],gwx
         rol     gwx,16
         mov     [dr++],gwx
         mov     gwx,[--dr]
         rol     gwx,16
         cmp     gwx,0x7F123456
         bne     TestBasicErr
         sub     dr,4
         mov     gwx,[dr]
         cmp     gwx,0x7F123456
         bne     TestBasicErr
         ;//     Stream QWord
         mov     dr,esp
         add     dr,7
         and     dr,0xFFFFFFF8
         mov     gwx,0x7F123456
         mov     gr,gwx
         rol     gr,16
         mov     [dr++],gq
         mov     gq,[--dr]
         cmp     gwx,0x7F123456
         bne     TestBasicErr
         rol     gr,16
         cmp     gr,0x7F123456
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     ch,0xBC
         pushzx  ch
         pop     dr
         cmp     dr,0x000000BC
         bne     TestBasicErr
         pushsx  ch
         pop     dr
         cmp     dr,0xFFFFFFBC
         bne     TestBasicErr
         push    0xBC
         pop     dr
         cmp     dr,0x000000BC
         bne     TestBasicErr
         ;//     Words
         mov     cw,0x9ABC
         pushzx  cw
         pop     dr
         cmp     dr,0x00009ABC
         bne     TestBasicErr
         pushsx  cw
         pop     dr
         cmp     dr,0xFFFF9ABC
         bne     TestBasicErr
         push    0x9ABC
         pop     dr
         cmp     dr,0x00009ABC
         bne     TestBasicErr
         push    0x80789ABC
         pop     dr
         cmp     dr,0x80789ABC
         bne     TestBasicErr
         ;//     Stream Byte
         mov     er,esp
         mov     bwx,0x80789ABC
         mov     [er++],bl
         mov     [er++],bh
         rol     bwx,16
         mov     [er++],bl
         mov     [er++],bh
         mov     br,[--er]
         cmp     br,0x80789ABC
         bne     TestBasicErr
         ;//     Stream Word
         mov     er,esp
         mov     bwx,0x80789ABC
         mov     [er++],bx
         mov     [er++],bw
         mov     br,[--er]
         cmp     br,0x80789ABC
         bne     TestBasicErr
         ;//     Stream DWord
         mov     er,esp
         mov     br,0x80789ABC
         mov     [er++],br
         rol     br,16
         mov     [er++],br
         mov     br,[--er]
         rol     br,16
         cmp     br,0x80789ABC
         bne     TestBasicErr
         sub     er,4
         mov     br,[er]
         cmp     br,0x80789ABC
         bne     TestBasicErr
         ;//     Stream QWord
         mov     er,esp
         add     er,7
         and     er,0xFFFFFFF8
         mov     bwx,0x80789ABC
         mov     br,bwx
         rol     br,16
         mov     [er++],bq
         mov     bq,[--er]
         cmp     bwx,0x80789ABC
         bne     TestBasicErr
         rol     br,16
         cmp     br,0x80789ABC
         bne     TestBasicErr
                 
         ;//     Bytes
         mov     dh,0xFF
         pushzx  dh
         pop     er
         cmp     er,0x000000FF
         bne     TestBasicErr
         pushsx  dh
         pop     er
         cmp     er,0xFFFFFFFF
         bne     TestBasicErr
         push    0xFF
         pop     er
         cmp     er,0x000000FF
         bne     TestBasicErr
         ;//     Words
         mov     dw,0xFFFF
         pushzx  dw
         pop     er
         cmp     er,0x0000FFFF
         bne     TestBasicErr
         pushsx  dw
         pop     er
         cmp     er,0xFFFFFFFF
         bne     TestBasicErr
         push    0xFFFF
         pop     er
         cmp     er,0x0000FFFF
         bne     TestBasicErr
         push    0xFFFFFFFF
         pop     er
         cmp     er,0xFFFFFFFF
         bne     TestBasicErr
         ;//     Stream Byte
         mov     fr,esp
         mov     dwx,0xFFFFFFFF
         mov     [fr++],dl
         mov     [fr++],dh
         rol     dwx,16
         mov     [fr++],dl
         mov     [fr++],dh
         mov     dr,[--fr]
         cmp     dr,0xFFFFFFFF
         bne     TestBasicErr
         ;//     Stream Word
         mov     fr,esp
         mov     dwx,0xFFFFFFFF
         mov     [fr++],dx
         mov     [fr++],dw
         mov     dr,[--fr]
         cmp     dr,0xFFFFFFFF
         bne     TestBasicErr
         ;//     Stream DWord
         mov     fr,esp
         mov     dr,0xFFFFFFFF
         mov     [fr++],dr
         rol     dr,16
         mov     [fr++],dr
         mov     dr,[--fr]
         rol     dr,16
         cmp     dr,0xFFFFFFFF
         bne     TestBasicErr
         sub     fr,4
         mov     dr,[fr]
         cmp     dr,0xFFFFFFFF
         bne     TestBasicErr
         ;//     Stream QWord
         mov     fr,esp
         add     fr,7
         and     fr,0xFFFFFFF8
         mov     dwx,0xFFFFFFFF
         mov     dr,dwx
         rol     dr,16
         mov     [fr++],dq
         mov     dq,[--fr]
         cmp     dwx,0xFFFFFFFF
         bne     TestBasicErr
         rol     dr,16
         cmp     dr,0xFFFFFFFF
         bne     TestBasicErr
                 
         bra     TestBasicRet
TestBasicErr:
         nop     
         trap    
         nop     
TestBasicRet:
         leave   awx|bwx|cwx|dwx|ewx|fwx|gwx|ar|br|cr|dr|er|fr|gr,16,0
