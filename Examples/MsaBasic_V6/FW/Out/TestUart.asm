;@M TestUart
;@S C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci

Public FRecvLen
Public FRecvBuf
Public FUartActive
Public UartRecvA
Public FState
Public FWorkLen
Public FWorkIdx
Public FWorkSum
Public FWorkSaveData
Public UartRecvB

Extern UartGetData

.seg data
        Align 4
   FRecvBuf:             db 0 dup(256)
        Align 1
   FRecvLen:             db 0
   FUartActive:          db 0
   FState:               db 0
   FWorkLen:             db 0
   FWorkIdx:             db 0
   FWorkSum:             db 0
   FWorkSaveData:        db 0

.seg code

;@P [Proc:~xh_{}:UartRecvA#][ChTargList:~dbw:BUartData# ~dbw:BUartData# ~dbw:BUartData# ~dbw:BUartData# ~dbb:BLen# ~dbb:BData# ~dbb:BSum# ~dbb:BIndex# ~dbb:BSaveData# ~deb:BTmp1# ~dei:BTmp8# ~dew:BTmp10# ~deb:BTmp11# ][VarStackMap:~dbw:BUartData# 2 0 0 00000 ~dbb:BLen# 1 0 0 00000 ~dbb:BData# 1 0 0 00000 ~dbb:BSum# 1 0 0 00000 ~dbb:BIndex# 1 0 0 00000 ~dbb:BSaveData# 1 0 0 00000 ~deb:BTmp1# 1 0 0 00000 ~dei:BTmp8# 4 0 0 00000 ~dew:BTmp10# 2 0 0 00000 ~deb:BTmp11# 1 0 0 00000 ]
UartRecvA:
        enter    awx|bwx|cwx|ar,0 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:8,1][Esp:-16][SrcOrig:]
                                  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:8,1][Esp:-16][SrcOrig:]
     UartRecvA_X74:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:15,4][ProcNameL:~xh_{}:UartRecvA#][AtomPos:0][JmpsPos:1][VarsPos:1][SRecPos:1][OrdrPos:1][MatrPos:1][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]do
        call     UartGetData      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:20,29][ProcNameL:~xh_{}:UartRecvA#][AtomPos:2][JmpsPos:2][VarsPos:2][SRecPos:2][OrdrPos:2][MatrPos:2][UseMatr:d............][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData!=0x55) break;
        cmp      ax,0x55          ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:20,50][ProcNameL:~xh_{}:UartRecvA#][AtomPos:4][JmpsPos:4][VarsPos:3][SRecPos:3][OrdrPos:3][MatrPos:3][UseMatr:s............][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData!=0x55) break;
        bne      UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:20,50][ProcNameL:~xh_{}:UartRecvA#][AtomPos:5][JmpsPos:5][VarsPos:4][SRecPos:4][OrdrPos:4][MatrPos:4][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData!=0x55) break;
        mov      al,[FRecvLen]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:12][JmpsPos:6][VarsPos:5][SRecPos:5][OrdrPos:5][MatrPos:5][UseMatr:.........d...][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .  al   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        cmp      al,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:13][JmpsPos:7][VarsPos:6][SRecPos:6][OrdrPos:6][MatrPos:6][UseMatr:.........s...][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .  al   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        bne      UartRecvA_IfElseC1_U9 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:14][JmpsPos:8][VarsPos:7][SRecPos:7][OrdrPos:7][MatrPos:7][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        mov      ch,1             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,34][ProcNameL:~xh_{}:UartRecvA#][AtomPos:17][JmpsPos:9][VarsPos:8][SRecPos:8][OrdrPos:8][MatrPos:8][UseMatr:........d....][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        bra      UartRecvA_IfEndC1_U10 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,35][ProcNameL:~xh_{}:UartRecvA#][AtomPos:18][JmpsPos:10][VarsPos:9][SRecPos:9][OrdrPos:9][MatrPos:9][UseMatr:........|....][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
     UartRecvA_IfElseC1_U9:       ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,35][ProcNameL:~xh_{}:UartRecvA#][AtomPos:19][JmpsPos:11][VarsPos:10][SRecPos:10][OrdrPos:10][MatrPos:10][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        mov      ch,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,52][ProcNameL:~xh_{}:UartRecvA#][AtomPos:20][JmpsPos:12][VarsPos:11][SRecPos:11][OrdrPos:11][MatrPos:11][UseMatr:........d....][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
     UartRecvA_IfEndC1_U10:       ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:21,53][ProcNameL:~xh_{}:UartRecvA#][AtomPos:21][JmpsPos:13][VarsPos:12][SRecPos:12][OrdrPos:12][MatrPos:12][UseMatr:........|....][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]if (FRecvLen==0) BSaveData=1; else BSaveData=0;
        call     UartGetData      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:23,29][ProcNameL:~xh_{}:UartRecvA#][AtomPos:22][JmpsPos:14][VarsPos:13][SRecPos:13][OrdrPos:13][MatrPos:13][UseMatr:.d......|....][Esp:0][TargRegMap:  .  ax   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        cmp      ax,255           ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:23,48][ProcNameL:~xh_{}:UartRecvA#][AtomPos:24][JmpsPos:16][VarsPos:14][SRecPos:14][OrdrPos:14][MatrPos:14][UseMatr:.s......|....][Esp:0][TargRegMap:  .  ax   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        ba       UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:23,48][ProcNameL:~xh_{}:UartRecvA#][AtomPos:25][JmpsPos:17][VarsPos:15][SRecPos:15][OrdrPos:15][MatrPos:15][UseMatr:.|......|....][Esp:0][TargRegMap:  .  ax   .   .   .   .   .   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        mov      bh,al            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:24,20][ProcNameL:~xh_{}:UartRecvA#][AtomPos:32][JmpsPos:18][VarsPos:16][SRecPos:16][OrdrPos:16][MatrPos:16][UseMatr:.s..d...|....][Esp:0][TargRegMap:  .  ax   .   .  bh   .   .   .  ch   .   .   .   . ][SrcOrig:]BLen=BUartData;
        mov      cl,bh            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:26,15][ProcNameL:~xh_{}:UartRecvA#][AtomPos:34][JmpsPos:20][VarsPos:17][SRecPos:17][OrdrPos:17][MatrPos:17][UseMatr:....s.d.|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl   .  ch   .   .   .   . ][SrcOrig:]BSum=BLen;
        mov      bl,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,19][ProcNameL:~xh_{}:UartRecvA#][AtomPos:35][JmpsPos:21][VarsPos:18][SRecPos:18][OrdrPos:18][MatrPos:18][UseMatr:....|.|d|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
        cmp      bl,bh            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,32][ProcNameL:~xh_{}:UartRecvA#][AtomPos:37][JmpsPos:22][VarsPos:19][SRecPos:19][OrdrPos:19][MatrPos:19][UseMatr:....s.|s|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
        bae      UartRecvA_ForEndC3_U16 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,32][ProcNameL:~xh_{}:UartRecvA#][AtomPos:38][JmpsPos:23][VarsPos:20][SRecPos:20][OrdrPos:20][MatrPos:20][UseMatr:....|.|||....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
     UartRecvA_Loop84:            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:33,8][ProcNameL:~xh_{}:UartRecvA#][AtomPos:70][JmpsPos:24][VarsPos:21][SRecPos:21][OrdrPos:21][MatrPos:21][UseMatr:....|.|||....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]}
        call     UartGetData      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:29,31][ProcNameL:~xh_{}:UartRecvA#][AtomPos:41][JmpsPos:25][VarsPos:22][SRecPos:22][OrdrPos:22][MatrPos:22][UseMatr:..d.|.|||....][Esp:0][TargRegMap:  .   .  ax   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        cmp      ax,255           ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:29,50][ProcNameL:~xh_{}:UartRecvA#][AtomPos:43][JmpsPos:27][VarsPos:23][SRecPos:23][OrdrPos:23][MatrPos:23][UseMatr:..s.|.|||....][Esp:0][TargRegMap:  .   .  ax   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        ba       UartRecvA_ForEndC3_U16 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:29,50][ProcNameL:~xh_{}:UartRecvA#][AtomPos:44][JmpsPos:28][VarsPos:24][SRecPos:24][OrdrPos:24][MatrPos:24][UseMatr:..|.|.|||....][Esp:0][TargRegMap:  .   .  ax   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        add      cl,al            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:31,19][ProcNameL:~xh_{}:UartRecvA#][AtomPos:54][JmpsPos:32][VarsPos:26][SRecPos:26][OrdrPos:26][MatrPos:26][UseMatr:....|sx||....][Esp:0][TargRegMap:  .   .   .   .  bh  al  cl  bl  ch   .   .   .   . ][SrcOrig:]BSum+=BData;
        cmp      ch,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:32,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:56][JmpsPos:34][VarsPos:27][SRecPos:27][OrdrPos:27][MatrPos:27][UseMatr:....||||s....][Esp:0][TargRegMap:  .   .   .   .  bh  al  cl  bl  ch   .   .   .   . ][SrcOrig:]if (BSaveData) FRecvBuf[BIndex]=BData;
        be       UartRecvA_X78    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:32,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:57][JmpsPos:35][VarsPos:28][SRecPos:28][OrdrPos:28][MatrPos:28][UseMatr:....|||||....][Esp:0][TargRegMap:  .   .   .   .  bh  al  cl  bl  ch   .   .   .   . ][SrcOrig:]if (BSaveData) FRecvBuf[BIndex]=BData;
        movzx    ar,bl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:32,45][ProcNameL:~xh_{}:UartRecvA#][AtomPos:60][JmpsPos:36][VarsPos:29][SRecPos:29][OrdrPos:29][MatrPos:29][UseMatr:....|||s|.d..][Esp:0][TargRegMap:  .   .   .   .  bh  al  cl  bl  ch   .  ar   .   . ][SrcOrig:]if (BSaveData) FRecvBuf[BIndex]=BData;
        mov      [FRecvBuf+ar],al ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:32,45][ProcNameL:~xh_{}:UartRecvA#][AtomPos:64][JmpsPos:40][VarsPos:30][SRecPos:30][OrdrPos:30][MatrPos:30][UseMatr:....|s|||.s..][Esp:0][TargRegMap:  .   .   .   .  bh  al  cl  bl  ch   .  ar   .   . ][SrcOrig:]if (BSaveData) FRecvBuf[BIndex]=BData;
     UartRecvA_X78:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:32,46][ProcNameL:~xh_{}:UartRecvA#][AtomPos:66][JmpsPos:41][VarsPos:31][SRecPos:31][OrdrPos:31][MatrPos:31][UseMatr:....|.|||....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]if (BSaveData) FRecvBuf[BIndex]=BData;
        inc      bl               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,42][ProcNameL:~xh_{}:UartRecvA#][AtomPos:68][JmpsPos:42][VarsPos:32][SRecPos:32][OrdrPos:32][MatrPos:32][UseMatr:....|.|x|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
        cmp      bl,bh            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,32][ProcNameL:~xh_{}:UartRecvA#][AtomPos:37][JmpsPos:44][VarsPos:33][SRecPos:33][OrdrPos:33][MatrPos:33][UseMatr:....s.|s|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
        bb       UartRecvA_Loop84 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:27,32][ProcNameL:~xh_{}:UartRecvA#][AtomPos:38][JmpsPos:45][VarsPos:34][SRecPos:34][OrdrPos:34][MatrPos:34][UseMatr:....|.|||....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]for (BIndex=0; BIndex<BLen; BIndex++)
     UartRecvA_ForEndC3_U16:      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:33,8][ProcNameL:~xh_{}:UartRecvA#][AtomPos:71][JmpsPos:46][VarsPos:35][SRecPos:35][OrdrPos:35][MatrPos:35][UseMatr:....|.|||....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]}
        cmp      bl,bh            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:34,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:72][JmpsPos:47][VarsPos:36][SRecPos:36][OrdrPos:36][MatrPos:36][UseMatr:....s.|s|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl  bl  ch   .   .   .   . ][SrcOrig:]if (BIndex<BLen) break;
        bb       UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:34,21][ProcNameL:~xh_{}:UartRecvA#][AtomPos:73][JmpsPos:48][VarsPos:37][SRecPos:37][OrdrPos:37][MatrPos:37][UseMatr:....|.|.|....][Esp:0][TargRegMap:  .   .   .   .  bh   .  cl   .  ch   .   .   .   . ][SrcOrig:]if (BIndex<BLen) break;
        call     UartGetData      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:36,29][ProcNameL:~xh_{}:UartRecvA#][AtomPos:80][JmpsPos:49][VarsPos:38][SRecPos:38][OrdrPos:38][MatrPos:38][UseMatr:...d|.|.|....][Esp:0][TargRegMap:  .   .   .  ax  bh   .  cl   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        cmp      ax,255           ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:36,48][ProcNameL:~xh_{}:UartRecvA#][AtomPos:82][JmpsPos:51][VarsPos:39][SRecPos:39][OrdrPos:39][MatrPos:39][UseMatr:...s|.|.|....][Esp:0][TargRegMap:  .   .   .  ax  bh   .  cl   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        ba       UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:36,48][ProcNameL:~xh_{}:UartRecvA#][AtomPos:83][JmpsPos:52][VarsPos:40][SRecPos:40][OrdrPos:40][MatrPos:40][UseMatr:...||.|.|....][Esp:0][TargRegMap:  .   .   .  ax  bh   .  cl   .  ch   .   .   .   . ][SrcOrig:]BUartData=UartGetData(); if (BUartData>255) break;
        movzx    aw,cl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:37,25][ProcNameL:~xh_{}:UartRecvA#][AtomPos:90][JmpsPos:53][VarsPos:41][SRecPos:41][OrdrPos:41][MatrPos:41][UseMatr:...||.s.|..d.][Esp:0][TargRegMap:  .   .   .  ax  bh   .  cl   .  ch   .   .  aw   . ][SrcOrig:]if (BSum!=BUartData) break;
        cmp      aw,ax            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:37,25][ProcNameL:~xh_{}:UartRecvA#][AtomPos:91][JmpsPos:54][VarsPos:42][SRecPos:42][OrdrPos:42][MatrPos:42][UseMatr:...s|...|..s.][Esp:0][TargRegMap:  .   .   .  ax  bh   .   .   .  ch   .   .  aw   . ][SrcOrig:]if (BSum!=BUartData) break;
        bne      UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:37,25][ProcNameL:~xh_{}:UartRecvA#][AtomPos:92][JmpsPos:55][VarsPos:43][SRecPos:43][OrdrPos:43][MatrPos:43][UseMatr:....|...|....][Esp:0][TargRegMap:  .   .   .   .  bh   .   .   .  ch   .   .   .   . ][SrcOrig:]if (BSum!=BUartData) break;
        cmp      ch,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:38,22][ProcNameL:~xh_{}:UartRecvA#][AtomPos:99][JmpsPos:56][VarsPos:44][SRecPos:44][OrdrPos:44][MatrPos:44][UseMatr:....|...s....][Esp:0][TargRegMap:  .   .   .   .  bh   .   .   .  ch   .   .   .   . ][SrcOrig:]if (BSaveData==0) break;
        be       UartRecvA_RepeatEndB0_U4 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:38,22][ProcNameL:~xh_{}:UartRecvA#][AtomPos:100][JmpsPos:57][VarsPos:45][SRecPos:45][OrdrPos:45][MatrPos:45][UseMatr:....|........][Esp:0][TargRegMap:  .   .   .   .  bh   .   .   .   .   .   .   .   . ][SrcOrig:]if (BSaveData==0) break;
        mov      [FRecvLen],bh    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:39,19][ProcNameL:~xh_{}:UartRecvA#][AtomPos:107][JmpsPos:58][VarsPos:46][SRecPos:46][OrdrPos:46][MatrPos:46][UseMatr:....s........][Esp:0][TargRegMap:  .   .   .   .  bh   .   .   .   .   .   .   .   . ][SrcOrig:]FRecvLen=BLen;
     UartRecvA_RepeatEndB0_U4:    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:40,15][ProcNameL:~xh_{}:UartRecvA#][AtomPos:109][JmpsPos:59][VarsPos:47][SRecPos:47][OrdrPos:47][MatrPos:47][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]} while(0);
        mov      al,[FUartActive] ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:45,22][ProcNameL:~xh_{}:UartRecvA#][AtomPos:110][JmpsPos:60][VarsPos:48][SRecPos:48][OrdrPos:48][MatrPos:48][UseMatr:............d][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .  al ][SrcOrig:]} while(FUartActive); // Need this for avoid "unreachable code" message
        cmp      al,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:45,22][ProcNameL:~xh_{}:UartRecvA#][AtomPos:111][JmpsPos:61][VarsPos:49][SRecPos:49][OrdrPos:49][MatrPos:49][UseMatr:............s][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .  al ][SrcOrig:]} while(FUartActive); // Need this for avoid "unreachable code" message
        bne      UartRecvA_X74    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:45,22][ProcNameL:~xh_{}:UartRecvA#][AtomPos:112][JmpsPos:62][VarsPos:50][SRecPos:50][OrdrPos:50][MatrPos:50][UseMatr:.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]} while(FUartActive); // Need this for avoid "unreachable code" message
                                  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:45,1][Esp:0][SrcOrig:]
        leave    awx|bwx|cwx|ar,0,0 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:45,1][Esp:0][SrcOrig:]

;@P [Proc:~xh_{}:UartRecvB#][ChTargList:~dbw:BUartData# ~dbb:BLen# ~dbb:BIdx# ~dbb:BData# ~dbb:BData# ~deb:BTmp2# ~deb:BTmp3# ~deb:BTmp4# ~deb:BTmp5# ~deb:BTmp6# ~deb:BTmp8# ~deb:BTmp9# ~deb:BTmp10# ~deb:BTmp11# ~deb:BTmp12# ~deb:BTmp13# ~deb:BTmp14# ~deb:BTmp17# ~dei:BTmp19# ~deb:BTmp21# ~deb:BTmp22# ~deb:BTmp23# ~deb:BTmp24# ~deb:BTmp25# ~deb:BTmp26# ~deb:BTmp28# ~deb:BTmp29# ~deb:BTmp30# ][VarStackMap:~dbw:BUartData# 2 0 0 00000 ~dbb:BLen# 1 0 0 00000 ~dbb:BIdx# 1 0 0 00000 ~dbb:BData# 1 0 0 00000 ~deb:BTmp2# 1 0 0 00000 ~deb:BTmp3# 1 0 0 00000 ~deb:BTmp4# 1 0 0 00000 ~deb:BTmp5# 1 0 0 00000 ~deb:BTmp6# 1 0 0 00000 ~deb:BTmp8# 1 0 0 00000 ~deb:BTmp9# 1 0 0 00000 ~deb:BTmp10# 1 0 0 00000 ~deb:BTmp11# 1 0 0 00000 ~deb:BTmp12# 1 0 0 00000 ~deb:BTmp13# 1 0 0 00000 ~deb:BTmp14# 1 0 0 00000 ~deb:BTmp17# 1 0 0 00000 ~dei:BTmp19# 4 0 0 00000 ~deb:BTmp21# 1 0 0 00000 ~deb:BTmp22# 1 0 0 00000 ~deb:BTmp23# 1 0 0 00000 ~deb:BTmp24# 1 0 0 00000 ~deb:BTmp25# 1 0 0 00000 ~deb:BTmp26# 1 0 0 00000 ~deb:BTmp28# 1 0 0 00000 ~deb:BTmp29# 1 0 0 00000 ~deb:BTmp30# 1 0 0 00000 ]
UartRecvB:
        enter    awx|bwx|ar,0     ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:58,1][Esp:-12][SrcOrig:]
                                  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:58,1][Esp:-12][SrcOrig:]
        call     UartGetData      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:66,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:1][JmpsPos:1][VarsPos:1][SRecPos:1][OrdrPos:1][MatrPos:1][UseMatr:d...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BUartData=UartGetData();
        cmp      ax,255           ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:3][JmpsPos:3][VarsPos:2][SRecPos:2][OrdrPos:2][MatrPos:2][UseMatr:s...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
        bbe      UartRecvB_X86    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:4][JmpsPos:4][VarsPos:3][SRecPos:3][OrdrPos:3][MatrPos:3][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
        mov      al,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,38][ProcNameL:~xh_{}:UartRecvB#][AtomPos:7][JmpsPos:5][VarsPos:4][SRecPos:4][OrdrPos:4][MatrPos:4][UseMatr:.....d......................][Esp:0][TargRegMap:  .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,38][ProcNameL:~xh_{}:UartRecvB#][AtomPos:8][JmpsPos:6][VarsPos:5][SRecPos:5][OrdrPos:5][MatrPos:5][UseMatr:.....s......................][Esp:0][TargRegMap:  .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
        bra      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,45][ProcNameL:~xh_{}:UartRecvB#][AtomPos:9][JmpsPos:7][VarsPos:6][SRecPos:6][OrdrPos:6][MatrPos:6][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
     UartRecvB_X86:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:67,48][ProcNameL:~xh_{}:UartRecvB#][AtomPos:11][JmpsPos:8][VarsPos:7][SRecPos:7][OrdrPos:7][MatrPos:7][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData>255) { FState=CStHdr; break; }
        mov      bl,[FState]      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:71,10][ProcNameL:~xh_{}:UartRecvB#][AtomPos:14][JmpsPos:9][VarsPos:8][SRecPos:8][OrdrPos:8][MatrPos:8][UseMatr:|.....d.....................][Esp:0][TargRegMap: ax   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStHdr:
        mov      [FState],bl      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:71,10][ProcNameL:~xh_{}:UartRecvB#][AtomPos:15][JmpsPos:10][VarsPos:9][SRecPos:9][OrdrPos:9][MatrPos:9][UseMatr:|.....s.....................][Esp:0][TargRegMap: ax   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStHdr:
        mov      bl,[FState]      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:71,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:17][JmpsPos:11][VarsPos:10][SRecPos:10][OrdrPos:10][MatrPos:10][UseMatr:|......d....................][Esp:0][TargRegMap: ax   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStHdr:
        cmp      bl,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:71,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:18][JmpsPos:12][VarsPos:11][SRecPos:11][OrdrPos:11][MatrPos:11][UseMatr:|......s....................][Esp:0][TargRegMap: ax   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStHdr:
        bne      UartRecvB_CaseCmp_1_B1_U45 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:71,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:19][JmpsPos:13][VarsPos:12][SRecPos:12][OrdrPos:12][MatrPos:12][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStHdr:
        cmp      ax,0x55          ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:72,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:22][JmpsPos:14][VarsPos:13][SRecPos:13][OrdrPos:13][MatrPos:13][UseMatr:s...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData!=0x55) break;
        bne      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:72,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:23][JmpsPos:15][VarsPos:14][SRecPos:14][OrdrPos:14][MatrPos:14][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BUartData!=0x55) break;
        mov      al,1             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:73,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:30][JmpsPos:16][VarsPos:15][SRecPos:15][OrdrPos:15][MatrPos:15][UseMatr:........d...................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FState=CStLen;
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:73,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:31][JmpsPos:17][VarsPos:16][SRecPos:16][OrdrPos:16][MatrPos:16][UseMatr:........s...................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FState=CStLen;
        bra      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:74,13][ProcNameL:~xh_{}:UartRecvB#][AtomPos:32][JmpsPos:18][VarsPos:17][SRecPos:17][OrdrPos:17][MatrPos:17][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]break;
     UartRecvB_CaseCmp_1_B1_U45:  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:76,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:34][JmpsPos:19][VarsPos:18][SRecPos:18][OrdrPos:18][MatrPos:18][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStLen:
        mov      bl,[FState]      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:76,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:35][JmpsPos:20][VarsPos:19][SRecPos:19][OrdrPos:19][MatrPos:19][UseMatr:|........d..................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStLen:
        cmp      bl,1             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:76,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:36][JmpsPos:21][VarsPos:20][SRecPos:20][OrdrPos:20][MatrPos:20][UseMatr:|........s..................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStLen:
        bne      UartRecvB_CaseCmp_2_B1_U50 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:76,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:37][JmpsPos:22][VarsPos:21][SRecPos:21][OrdrPos:21][MatrPos:21][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStLen:
        mov      [FWorkLen],al    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:78,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:42][JmpsPos:25][VarsPos:23][SRecPos:23][OrdrPos:23][MatrPos:23][UseMatr:.s..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkLen=BLen;
        mov      ah,[FRecvLen]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:43][JmpsPos:26][VarsPos:24][SRecPos:24][OrdrPos:24][MatrPos:24][UseMatr:.|........d.................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        cmp      ah,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:44][JmpsPos:27][VarsPos:25][SRecPos:25][OrdrPos:25][MatrPos:25][UseMatr:.|........s.................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        bne      UartRecvB_IfElseC0_U53 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:45][JmpsPos:28][VarsPos:26][SRecPos:26][OrdrPos:26][MatrPos:26][UseMatr:.|..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        mov      ah,1             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,40][ProcNameL:~xh_{}:UartRecvB#][AtomPos:48][JmpsPos:29][VarsPos:27][SRecPos:27][OrdrPos:27][MatrPos:27][UseMatr:.|.........d................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        mov      [FWorkSaveData],ah ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,40][ProcNameL:~xh_{}:UartRecvB#][AtomPos:49][JmpsPos:30][VarsPos:28][SRecPos:28][OrdrPos:28][MatrPos:28][UseMatr:.|.........s................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        bra      UartRecvB_IfEndC0_U54 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,41][ProcNameL:~xh_{}:UartRecvB#][AtomPos:50][JmpsPos:31][VarsPos:29][SRecPos:29][OrdrPos:29][MatrPos:29][UseMatr:.|..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
     UartRecvB_IfElseC0_U53:      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,41][ProcNameL:~xh_{}:UartRecvB#][AtomPos:51][JmpsPos:32][VarsPos:30][SRecPos:30][OrdrPos:30][MatrPos:30][UseMatr:.|..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        mov      ah,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,62][ProcNameL:~xh_{}:UartRecvB#][AtomPos:52][JmpsPos:33][VarsPos:31][SRecPos:31][OrdrPos:31][MatrPos:31][UseMatr:.|..........d...............][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        mov      [FWorkSaveData],ah ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,62][ProcNameL:~xh_{}:UartRecvB#][AtomPos:53][JmpsPos:34][VarsPos:32][SRecPos:32][OrdrPos:32][MatrPos:32][UseMatr:.|..........s...............][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
     UartRecvB_IfEndC0_U54:       ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:79,63][ProcNameL:~xh_{}:UartRecvB#][AtomPos:54][JmpsPos:35][VarsPos:33][SRecPos:33][OrdrPos:33][MatrPos:33][UseMatr:.|..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FRecvLen==0) FWorkSaveData=1; else FWorkSaveData=0;
        mov      [FWorkSum],al    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:80,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:55][JmpsPos:36][VarsPos:34][SRecPos:34][OrdrPos:34][MatrPos:34][UseMatr:.s..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkSum=BLen;
        mov      ah,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:81,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:56][JmpsPos:37][VarsPos:35][SRecPos:35][OrdrPos:35][MatrPos:35][UseMatr:.|...........d..............][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkIdx=0;
        mov      [FWorkIdx],ah    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:81,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:57][JmpsPos:38][VarsPos:36][SRecPos:36][OrdrPos:36][MatrPos:36][UseMatr:.|...........s..............][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkIdx=0;
        cmp      al,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:58][JmpsPos:39][VarsPos:37][SRecPos:37][OrdrPos:37][MatrPos:37][UseMatr:.s..........................][Esp:0][TargRegMap:  .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        bne      UartRecvB_IfElseC1_U56 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:59][JmpsPos:40][VarsPos:38][SRecPos:38][OrdrPos:38][MatrPos:38][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        mov      al,3             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,34][ProcNameL:~xh_{}:UartRecvB#][AtomPos:62][JmpsPos:41][VarsPos:39][SRecPos:39][OrdrPos:39][MatrPos:39][UseMatr:..............d.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,34][ProcNameL:~xh_{}:UartRecvB#][AtomPos:63][JmpsPos:42][VarsPos:40][SRecPos:40][OrdrPos:40][MatrPos:40][UseMatr:..............s.............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        bra      UartRecvB_IfEndC1_U57 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,35][ProcNameL:~xh_{}:UartRecvB#][AtomPos:64][JmpsPos:43][VarsPos:41][SRecPos:41][OrdrPos:41][MatrPos:41][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
     UartRecvB_IfElseC1_U56:      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,35][ProcNameL:~xh_{}:UartRecvB#][AtomPos:65][JmpsPos:44][VarsPos:42][SRecPos:42][OrdrPos:42][MatrPos:42][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        mov      al,2             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,55][ProcNameL:~xh_{}:UartRecvB#][AtomPos:66][JmpsPos:45][VarsPos:43][SRecPos:43][OrdrPos:43][MatrPos:43][UseMatr:...............d............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,55][ProcNameL:~xh_{}:UartRecvB#][AtomPos:67][JmpsPos:46][VarsPos:44][SRecPos:44][OrdrPos:44][MatrPos:44][UseMatr:...............s............][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
     UartRecvB_IfEndC1_U57:       ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:82,56][ProcNameL:~xh_{}:UartRecvB#][AtomPos:68][JmpsPos:47][VarsPos:45][SRecPos:45][OrdrPos:45][MatrPos:45][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BLen==0) FState=CStSum; else FState=CStData;
        bra      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:83,13][ProcNameL:~xh_{}:UartRecvB#][AtomPos:69][JmpsPos:48][VarsPos:46][SRecPos:46][OrdrPos:46][MatrPos:46][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]break;
     UartRecvB_CaseCmp_2_B1_U50:  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:85,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:71][JmpsPos:49][VarsPos:47][SRecPos:47][OrdrPos:47][MatrPos:47][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStData:
        mov      bl,[FState]      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:85,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:72][JmpsPos:50][VarsPos:48][SRecPos:48][OrdrPos:48][MatrPos:48][UseMatr:|...............d...........][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStData:
        cmp      bl,2             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:85,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:73][JmpsPos:51][VarsPos:49][SRecPos:49][OrdrPos:49][MatrPos:49][UseMatr:|...............s...........][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStData:
        bne      UartRecvB_CaseCmp_3_B1_U58 ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:85,19][ProcNameL:~xh_{}:UartRecvB#][AtomPos:74][JmpsPos:52][VarsPos:50][SRecPos:50][OrdrPos:50][MatrPos:50][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStData:
        mov      bl,[FWorkIdx]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:87,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:79][JmpsPos:55][VarsPos:52][SRecPos:52][OrdrPos:52][MatrPos:52][UseMatr:..d|........................][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BIdx=FWorkIdx; // it generates somewhat smaller code
        mov      ah,[FWorkSaveData] ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,25][ProcNameL:~xh_{}:UartRecvB#][AtomPos:81][JmpsPos:57][VarsPos:53][SRecPos:53][OrdrPos:53][MatrPos:53][UseMatr:..||.............d..........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
        cmp      ah,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,25][ProcNameL:~xh_{}:UartRecvB#][AtomPos:82][JmpsPos:58][VarsPos:54][SRecPos:54][OrdrPos:54][MatrPos:54][UseMatr:..||.............s..........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
        be       UartRecvB_X88    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,25][ProcNameL:~xh_{}:UartRecvB#][AtomPos:83][JmpsPos:59][VarsPos:55][SRecPos:55][OrdrPos:55][MatrPos:55][UseMatr:..||........................][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
        movzx    ar,bl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,47][ProcNameL:~xh_{}:UartRecvB#][AtomPos:86][JmpsPos:60][VarsPos:56][SRecPos:56][OrdrPos:56][MatrPos:56][UseMatr:..s|..............d.........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ar   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
        mov      [FRecvBuf+ar],al ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,47][ProcNameL:~xh_{}:UartRecvB#][AtomPos:90][JmpsPos:64][VarsPos:57][SRecPos:57][OrdrPos:57][MatrPos:57][UseMatr:..|s..............s.........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ar   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
     UartRecvB_X88:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:88,48][ProcNameL:~xh_{}:UartRecvB#][AtomPos:92][JmpsPos:65][VarsPos:58][SRecPos:58][OrdrPos:58][MatrPos:58][UseMatr:..||........................][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData) FRecvBuf[BIdx]=BData;
        inc      bl               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:89,14][ProcNameL:~xh_{}:UartRecvB#][AtomPos:94][JmpsPos:66][VarsPos:59][SRecPos:59][OrdrPos:59][MatrPos:59][UseMatr:..x|........................][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]BIdx++;
        mov      ah,[FWorkSum]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:90,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:96][JmpsPos:68][VarsPos:60][SRecPos:60][OrdrPos:60][MatrPos:60][UseMatr:..||...............d........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkSum+=BData;
        add      ah,al            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:90,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:98][JmpsPos:70][VarsPos:61][SRecPos:61][OrdrPos:61][MatrPos:61][UseMatr:..|s...............x........][Esp:0][TargRegMap:  .   .  bl  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkSum+=BData;
        mov      [FWorkSum],ah    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:90,23][ProcNameL:~xh_{}:UartRecvB#][AtomPos:99][JmpsPos:71][VarsPos:62][SRecPos:62][OrdrPos:62][MatrPos:62][UseMatr:..|................s........][Esp:0][TargRegMap:  .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkSum+=BData;
        mov      [FWorkIdx],bl    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:91,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:100][JmpsPos:72][VarsPos:63][SRecPos:63][OrdrPos:63][MatrPos:63][UseMatr:..s.........................][Esp:0][TargRegMap:  .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]FWorkIdx=BIdx;
        mov      al,[FWorkLen]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,26][ProcNameL:~xh_{}:UartRecvB#][AtomPos:101][JmpsPos:73][VarsPos:64][SRecPos:64][OrdrPos:64][MatrPos:64][UseMatr:..|.................d.......][Esp:0][TargRegMap:  .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
        cmp      bl,al            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,26][ProcNameL:~xh_{}:UartRecvB#][AtomPos:102][JmpsPos:74][VarsPos:65][SRecPos:65][OrdrPos:65][MatrPos:65][UseMatr:..s.................s.......][Esp:0][TargRegMap:  .   .  bl   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
        bb       UartRecvB_X89    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,26][ProcNameL:~xh_{}:UartRecvB#][AtomPos:103][JmpsPos:75][VarsPos:66][SRecPos:66][OrdrPos:66][MatrPos:66][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
        mov      al,3             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,41][ProcNameL:~xh_{}:UartRecvB#][AtomPos:106][JmpsPos:76][VarsPos:67][SRecPos:67][OrdrPos:67][MatrPos:67][UseMatr:.....................d......][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,41][ProcNameL:~xh_{}:UartRecvB#][AtomPos:107][JmpsPos:77][VarsPos:68][SRecPos:68][OrdrPos:68][MatrPos:68][UseMatr:.....................s......][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
     UartRecvB_X89:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:92,42][ProcNameL:~xh_{}:UartRecvB#][AtomPos:109][JmpsPos:78][VarsPos:69][SRecPos:69][OrdrPos:69][MatrPos:69][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BIdx>=FWorkLen) FState=CStSum;
        bra      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:93,13][ProcNameL:~xh_{}:UartRecvB#][AtomPos:111][JmpsPos:79][VarsPos:70][SRecPos:70][OrdrPos:70][MatrPos:70][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]break;
     UartRecvB_CaseCmp_3_B1_U58:  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:95,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:113][JmpsPos:80][VarsPos:71][SRecPos:71][OrdrPos:71][MatrPos:71][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStSum:
        mov      bl,[FState]      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:95,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:114][JmpsPos:81][VarsPos:72][SRecPos:72][OrdrPos:72][MatrPos:72][UseMatr:|.....................d.....][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   .   . ][SrcOrig:]case CStSum:
        cmp      bl,3             ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:95,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:115][JmpsPos:82][VarsPos:73][SRecPos:73][OrdrPos:73][MatrPos:73][UseMatr:|.....................s.....][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   .   . ][SrcOrig:]case CStSum:
        bne      UartRecvB_X92    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:95,18][ProcNameL:~xh_{}:UartRecvB#][AtomPos:116][JmpsPos:83][VarsPos:74][SRecPos:74][OrdrPos:74][MatrPos:74][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]case CStSum:
        mov      bl,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:96,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:119][JmpsPos:84][VarsPos:75][SRecPos:75][OrdrPos:75][MatrPos:75][UseMatr:|......................d....][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   . ][SrcOrig:]FState=CStHdr;
        mov      [FState],bl      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:96,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:120][JmpsPos:85][VarsPos:76][SRecPos:76][OrdrPos:76][MatrPos:76][UseMatr:|......................s....][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   .   . ][SrcOrig:]FState=CStHdr;
        mov      bl,[FWorkSaveData] ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:97,28][ProcNameL:~xh_{}:UartRecvB#][AtomPos:121][JmpsPos:86][VarsPos:77][SRecPos:77][OrdrPos:77][MatrPos:77][UseMatr:|.......................d...][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   . ][SrcOrig:]if (FWorkSaveData==0) break;
        cmp      bl,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:97,28][ProcNameL:~xh_{}:UartRecvB#][AtomPos:122][JmpsPos:87][VarsPos:78][SRecPos:78][OrdrPos:78][MatrPos:78][UseMatr:|.......................s...][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  bl   .   .   . ][SrcOrig:]if (FWorkSaveData==0) break;
        be       UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:97,28][ProcNameL:~xh_{}:UartRecvB#][AtomPos:123][JmpsPos:88][VarsPos:79][SRecPos:79][OrdrPos:79][MatrPos:79][UseMatr:|...........................][Esp:0][TargRegMap: ax   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (FWorkSaveData==0) break;
        mov      ah,[FWorkSum]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:99,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:132][JmpsPos:91][VarsPos:81][SRecPos:81][OrdrPos:81][MatrPos:81][UseMatr:....|....................d..][Esp:0][TargRegMap:  .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   . ][SrcOrig:]if (BData!=FWorkSum) break;
        cmp      al,ah            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:99,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:133][JmpsPos:92][VarsPos:82][SRecPos:82][OrdrPos:82][MatrPos:82][UseMatr:....s....................s..][Esp:0][TargRegMap:  .   .   .   .  al   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  ah   .   . ][SrcOrig:]if (BData!=FWorkSum) break;
        bne      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:99,27][ProcNameL:~xh_{}:UartRecvB#][AtomPos:134][JmpsPos:93][VarsPos:83][SRecPos:83][OrdrPos:83][MatrPos:83][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]if (BData!=FWorkSum) break;
        mov      al,[FWorkLen]    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:100,25][ProcNameL:~xh_{}:UartRecvB#][AtomPos:141][JmpsPos:94][VarsPos:84][SRecPos:84][OrdrPos:84][MatrPos:84][UseMatr:..........................d.][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   . ][SrcOrig:]FRecvLen=FWorkLen;
        mov      [FRecvLen],al    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:100,25][ProcNameL:~xh_{}:UartRecvB#][AtomPos:142][JmpsPos:95][VarsPos:85][SRecPos:85][OrdrPos:85][MatrPos:85][UseMatr:..........................s.][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al   . ][SrcOrig:]FRecvLen=FWorkLen;
        bra      UartRecvB_X94    ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:101,13][ProcNameL:~xh_{}:UartRecvB#][AtomPos:143][JmpsPos:96][VarsPos:86][SRecPos:86][OrdrPos:86][MatrPos:86][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]break;
     UartRecvB_X92:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:103,14][ProcNameL:~xh_{}:UartRecvB#][AtomPos:145][JmpsPos:97][VarsPos:87][SRecPos:87][OrdrPos:87][MatrPos:87][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]default:
        mov      al,zl            ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:104,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:147][JmpsPos:98][VarsPos:88][SRecPos:88][OrdrPos:88][MatrPos:88][UseMatr:...........................d][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al ][SrcOrig:]FState=CStHdr;
        mov      [FState],al      ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:104,21][ProcNameL:~xh_{}:UartRecvB#][AtomPos:148][JmpsPos:99][VarsPos:89][SRecPos:89][OrdrPos:89][MatrPos:89][UseMatr:...........................s][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .  al ][SrcOrig:]FState=CStHdr;
     UartRecvB_X94:               ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:105,6][ProcNameL:~xh_{}:UartRecvB#][AtomPos:149][JmpsPos:100][VarsPos:90][SRecPos:90][OrdrPos:90][MatrPos:90][UseMatr:............................][Esp:0][TargRegMap:  .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   .   . ][SrcOrig:]}
                                  ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:106,1][Esp:0][SrcOrig:]
        leave    awx|bwx|ar,0,0   ;[SrcFile:C:\ZukH\Projects\Mirabelle\Examples\MsaBasic_V5\FW\Test\TestUart.ci][SrcPos:106,1][Esp:0][SrcOrig:]

